"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./services/blockchain.ts":
/*!********************************!*\
  !*** ./services/blockchain.ts ***!
  \********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"checkWallet\": function() { return /* binding */ checkWallet; },\n/* harmony export */   \"connectWallet\": function() { return /* binding */ connectWallet; },\n/* harmony export */   \"createAnswer\": function() { return /* binding */ createAnswer; },\n/* harmony export */   \"createQuestion\": function() { return /* binding */ createQuestion; },\n/* harmony export */   \"deleteQuestion\": function() { return /* binding */ deleteQuestion; },\n/* harmony export */   \"getAnswers\": function() { return /* binding */ getAnswers; },\n/* harmony export */   \"getQuestion\": function() { return /* binding */ getQuestion; },\n/* harmony export */   \"getQuestions\": function() { return /* binding */ getQuestions; },\n/* harmony export */   \"loadData\": function() { return /* binding */ loadData; },\n/* harmony export */   \"payWinner\": function() { return /* binding */ payWinner; },\n/* harmony export */   \"updateQuestion\": function() { return /* binding */ updateQuestion; }\n/* harmony export */ });\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/store */ \"./store/index.ts\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _store_globalSlices__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/store/globalSlices */ \"./store/globalSlices.ts\");\n/* harmony import */ var _artifacts_contractAddress_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/artifacts/contractAddress.json */ \"./artifacts/contractAddress.json\");\n/* harmony import */ var _artifacts_contracts_AnswerToEarn_sol_AnswerToEarn_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/artifacts/contracts/AnswerToEarn.sol/AnswerToEarn.json */ \"./artifacts/contracts/AnswerToEarn.sol/AnswerToEarn.json\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/process/browser.js\");\n\n\n\n\n\nconst { setWallet , setAnswers , setQuestion , setQuestions  } = _store_globalSlices__WEBPACK_IMPORTED_MODULE_1__.globalActions;\nconst ContractAddress = _artifacts_contractAddress_json__WEBPACK_IMPORTED_MODULE_2__.address //address contains the ethereum address where sc is deployed\n;\nconst ContractAbi = _artifacts_contracts_AnswerToEarn_sol_AnswerToEarn_json__WEBPACK_IMPORTED_MODULE_3__.abi //abi descrives the interface of smart contract. includes info about functions, names, inputs / types, includes info about the contract itself\n;\nlet ethereum;\nlet tx;\nif (true) {\n    ethereum = window.ethereum;\n}\nconst toWei = (num)=>ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.parseEther(num.toString());\nconst fromWei = (num)=>ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.formatEther(num);\nconst getEthereumContract = async ()=>{\n    var _ethereum_request;\n    const accounts = await (ethereum === null || ethereum === void 0 ? void 0 : (_ethereum_request = ethereum.request) === null || _ethereum_request === void 0 ? void 0 : _ethereum_request.call(ethereum, {\n        method: \"eth_accounts\"\n    }));\n    const provider = (accounts === null || accounts === void 0 ? void 0 : accounts[0]) ? new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.Web3Provider(ethereum) : new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.providers.JsonRpcProvider(process.env.NEXT_APP_RPC_URL);\n    //if there is an account available the wallet is set to null because dont need to create a new wallet\n    console.log(\"provider\", provider);\n    const wallet = (accounts === null || accounts === void 0 ? void 0 : accounts[0]) ? null : ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.Wallet.createRandom();\n    console.log(\"wallet\", wallet);\n    const signer = provider.getSigner((accounts === null || accounts === void 0 ? void 0 : accounts[0]) ? undefined : wallet === null || wallet === void 0 ? void 0 : wallet.address);\n    const contract = new ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.Contract(ContractAddress, ContractAbi, signer);\n    return contract;\n};\nconst connectWallet = async ()=>{\n    try {\n        var _ethereum_request;\n        if (!ethereum) return reportError(\"Please install Metamask\");\n        //request user accounts from metamask. dapp request access to user's ethereum accounts\n        const accounts = await ((_ethereum_request = ethereum.request) === null || _ethereum_request === void 0 ? void 0 : _ethereum_request.call(ethereum, {\n            method: \"eth_requestAccounts\"\n        }));\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setWallet(accounts === null || accounts === void 0 ? void 0 : accounts[0])) // wallet address stored. access first account in array\n        ;\n    } catch (error) {\n        reportError(error);\n    }\n};\nconst checkWallet = async ()=>{\n    try {\n        var _ethereum_request;\n        if (!ethereum) return reportError(\"Please install Metamask\");\n        const accounts = await ((_ethereum_request = ethereum.request) === null || _ethereum_request === void 0 ? void 0 : _ethereum_request.call(ethereum, {\n            method: \"eth_accounts\"\n        }));\n        // monitor chain change\n        ethereum.on(\"chainChanged\", ()=>{\n            window.location.reload();\n        });\n        ethereum.on(\"accountsChanged\", async ()=>{\n            _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setWallet(accounts === null || accounts === void 0 ? void 0 : accounts[0]));\n            await checkWallet();\n        });\n        if (accounts === null || accounts === void 0 ? void 0 : accounts.length) {\n            _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setWallet(accounts[0]));\n        } else {\n            _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setWallet(\"\"));\n            reportError(\"Please connect wallet, no accounts found.\");\n        }\n    } catch (error) {\n        reportError(error);\n    }\n};\nconst getQuestions = async ()=>{\n    const contract = await getEthereumContract();\n    const questions = await contract.getQuestions();\n    return structureQuestions(questions);\n};\nconst getQuestion = async (id)=>{\n    const contract = await getEthereumContract();\n    const question = await contract.getQuestion(id);\n    return structureQuestions([\n        question\n    ])[0];\n};\nconst createQuestion = async (data)=>{\n    if (!ethereum) {\n        reportError(\"Please install Metamask\");\n        return Promise.reject(new Error(\"Metamask not installed\"));\n    }\n    try {\n        const contract = await getEthereumContract();\n        console.log(\"THE CONTRACT\", contract);\n        const { title , description , tags , prize  } = data;\n        console.log(\"THE DATA\", data);\n        tx = await contract.createQuestion(title, description, tags, {\n            value: toWei(Number(prize))\n        });\n        console.log(\"Transaction Hash:\", tx.hash);\n        console.log(\"tx\", tx);\n        await tx.wait();\n        console.log(\"tx\", tx);\n        const questions = await getQuestions();\n        console.log(\"QUESTIONS\", questions);\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setQuestions(questions));\n        return Promise.resolve(tx);\n    } catch (error) {\n        reportError(error);\n        return Promise.reject(error);\n    }\n};\nconst updateQuestion = async (id, data)=>{\n    if (!ethereum) {\n        reportError(\"Please install Metamask\");\n        return Promise.reject(new Error(\"Metamask not installed\"));\n    }\n    try {\n        const contract = await getEthereumContract();\n        const { title , description , tags  } = data;\n        tx = await contract.updateQuestion(id, title, description, tags);\n        await tx.wait();\n        const question = await getQuestion(id);\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setQuestion(question));\n        return Promise.resolve(tx);\n    } catch (error) {\n        reportError(error);\n        return Promise.reject(error);\n    }\n};\nconst deleteQuestion = async (id)=>{\n    if (!ethereum) {\n        reportError(\"Please install Metamask\");\n        return Promise.reject(new Error(\"Metamask not installed\"));\n    }\n    try {\n        const contract = await getEthereumContract();\n        tx = await contract.deleteQuestion(id);\n        await tx.wait();\n        const question = await getQuestion(id);\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setQuestion(question));\n        return Promise.resolve(tx);\n    } catch (error) {\n        reportError(error);\n        return Promise.reject(error);\n    }\n};\nconst createAnswer = async (id, answer)=>{\n    if (!ethereum) {\n        reportError(\"Please install Metamask\");\n        return Promise.reject(new Error(\"Metamask not installed\"));\n    }\n    try {\n        const contract = await getEthereumContract();\n        tx = await contract.addAnswer(id, answer);\n        await tx.wait();\n        const question = await getQuestion(id);\n        const answers = await getAnswers(id);\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setQuestion(question));\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setAnswers(answers));\n        return Promise.resolve(tx);\n    } catch (error) {\n        reportError(error);\n        return Promise.reject(error);\n    }\n};\nconst payWinner = async (qid, id)=>{\n    if (!ethereum) {\n        reportError(\"Please install Metamask\");\n        return Promise.reject(new Error(\"Metamask not installed\"));\n    }\n    try {\n        const contract = await getEthereumContract();\n        tx = await contract.payWinner(qid, id);\n        await tx.wait();\n        const question = await getQuestion(id);\n        const answers = await getAnswers(id);\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setQuestion(question));\n        _store__WEBPACK_IMPORTED_MODULE_0__.store.dispatch(setAnswers(answers));\n        return Promise.resolve(tx);\n    } catch (error) {\n        reportError(error);\n        return Promise.reject(error);\n    }\n};\nconst getAnswers = async (id)=>{\n    const contract = await getEthereumContract();\n    const answers = await contract.getAnswers(id);\n    return structureAnswers(answers) || [];\n};\nconst loadData = async ()=>{\n    await getQuestions();\n};\nconst reportError = (error)=>{\n    console.log(error);\n};\nconst structureQuestions = (questions)=>questions.map((question)=>({\n            id: Number(question.id),\n            title: question.title,\n            description: question.description,\n            owner: question.owner.toLowerCase(),\n            winner: question.winner.toLowerCase(),\n            paidout: question.paidout,\n            deleted: question.deleted,\n            updated: Number(question.updated),\n            created: Number(question.created),\n            answers: Number(question.answers),\n            tags: question.tags.split(\",\").map((tag)=>tag.trim()),\n            prize: fromWei(question.prize)\n        })).sort((a, b)=>b.created - a.created);\nconst structureAnswers = (answers)=>answers.map((answer)=>({\n            id: Number(answer.id),\n            qid: Number(answer.qid),\n            comment: answer.comment,\n            owner: answer.owner.toLowerCase(),\n            deleted: answer.deleted,\n            created: Number(answer.created),\n            updated: Number(answer.updated)\n        })).sort((a, b)=>b.updated - a.updated);\n\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVOLE9BQU8sR0FBR0ssRUFBRUwsT0FBTztBQUV6QyxNQUFNVCxtQkFBbUIsQ0FBQ0osVUFDeEJBLFFBQ0dNLEdBQUcsQ0FBQyxDQUFDUixTQUFZO1lBQ2hCbkIsSUFBSVksT0FBT08sT0FBT25CLEVBQUU7WUFDcEJ3QixLQUFLWixPQUFPTyxPQUFPSyxHQUFHO1lBQ3RCaUIsU0FBU3RCLE9BQU9zQixPQUFPO1lBQ3ZCYixPQUFPVCxPQUFPUyxLQUFLLENBQUNDLFdBQVc7WUFDL0JHLFNBQVNiLE9BQU9hLE9BQU87WUFDdkJFLFNBQVN0QixPQUFPTyxPQUFPZSxPQUFPO1lBQzlCRCxTQUFTckIsT0FBT08sT0FBT2MsT0FBTztRQUNoQyxJQUNDSyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsRUFBRVAsT0FBTyxHQUFHTSxFQUFFTixPQUFPO0FBY3hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NlcnZpY2VzL2Jsb2NrY2hhaW4udHM/OWQ3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdG9yZSB9IGZyb20gJ0Avc3RvcmUnXG5pbXBvcnQgeyBldGhlcnMgfSBmcm9tICdldGhlcnMnXG5pbXBvcnQgeyBnbG9iYWxBY3Rpb25zIH0gZnJvbSAnQC9zdG9yZS9nbG9iYWxTbGljZXMnXG5pbXBvcnQgYWRkcmVzcyBmcm9tICdAL2FydGlmYWN0cy9jb250cmFjdEFkZHJlc3MuanNvbidcbmltcG9ydCBhYmkgZnJvbSAnQC9hcnRpZmFjdHMvY29udHJhY3RzL0Fuc3dlclRvRWFybi5zb2wvQW5zd2VyVG9FYXJuLmpzb24nXG5pbXBvcnQgeyBBbnN3ZXJQcm9wLCBRdWVzdGlvblBhcmFtcywgUXVlc3Rpb25Qcm9wIH0gZnJvbSAnQC91dGlscy9pbnRlcmZhY2VzJ1xuXG5jb25zdCB7IHNldFdhbGxldCwgc2V0QW5zd2Vycywgc2V0UXVlc3Rpb24sIHNldFF1ZXN0aW9ucyB9ID0gZ2xvYmFsQWN0aW9uc1xuY29uc3QgQ29udHJhY3RBZGRyZXNzID0gYWRkcmVzcy5hZGRyZXNzIC8vYWRkcmVzcyBjb250YWlucyB0aGUgZXRoZXJldW0gYWRkcmVzcyB3aGVyZSBzYyBpcyBkZXBsb3llZFxuY29uc3QgQ29udHJhY3RBYmkgPSBhYmkuYWJpIC8vYWJpIGRlc2NyaXZlcyB0aGUgaW50ZXJmYWNlIG9mIHNtYXJ0IGNvbnRyYWN0LiBpbmNsdWRlcyBpbmZvIGFib3V0IGZ1bmN0aW9ucywgbmFtZXMsIGlucHV0cyAvIHR5cGVzLCBpbmNsdWRlcyBpbmZvIGFib3V0IHRoZSBjb250cmFjdCBpdHNlbGZcbmxldCBldGhlcmV1bTogYW55XG5sZXQgdHg6IGFueVxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZXRoZXJldW0gPSAod2luZG93IGFzIGFueSkuZXRoZXJldW1cbn1cblxuY29uc3QgdG9XZWkgPSAobnVtOiBudW1iZXIpID0+IGV0aGVycy51dGlscy5wYXJzZUV0aGVyKG51bS50b1N0cmluZygpKVxuY29uc3QgZnJvbVdlaSA9IChudW06IG51bWJlcikgPT4gZXRoZXJzLnV0aWxzLmZvcm1hdEV0aGVyKG51bSlcblxuY29uc3QgZ2V0RXRoZXJldW1Db250cmFjdCA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBldGhlcmV1bT8ucmVxdWVzdD8uKHsgbWV0aG9kOiAnZXRoX2FjY291bnRzJyB9KVxuICBjb25zdCBwcm92aWRlciA9IGFjY291bnRzPy5bMF1cbiAgLy9UaGUgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIgaXMgYSBjbGFzcyBmcm9tIHRoZSBldGhlcnMuanMgbGlicmFyeSwgd2hpY2ggcHJvdmlkZXMgYSBjb252ZW5pZW50IHdheSB0byBpbnRlcmFjdCB3aXRoIHRoZSBFdGhlcmV1bSBibG9ja2NoYWluIHZpYSB0aGUgZXRoZXJldW0gcHJvdmlkZXIuXG4gICAgPyBuZXcgZXRoZXJzLnByb3ZpZGVycy5XZWIzUHJvdmlkZXIoZXRoZXJldW0pXG4gIC8vQSBKc29uUnBjUHJvdmlkZXIgaXMgYSBwcm92aWRlciBmcm9tIHRoZSBldGhlcnMuanMgbGlicmFyeSB0aGF0IGNvbm5lY3RzIHRvIGFuIEV0aGVyZXVtIG5vZGUgdmlhIEpTT04tUlBDIChKYXZhU2NyaXB0IE9iamVjdCBOb3RhdGlvbiAtIFJlbW90ZSBQcm9jZWR1cmUgQ2FsbCkuIFRoaXMgaXMgYSBwcm90b2NvbCB1c2VkIHRvIGNvbW11bmljYXRlIHdpdGggRXRoZXJldW0gbm9kZXMsIGFsbG93aW5nIGNsaWVudHMgdG8gcGVyZm9ybSB2YXJpb3VzIGFjdGlvbnMgb24gdGhlIGJsb2NrY2hhaW4sIHN1Y2ggYXMgcmVhZGluZyBkYXRhLCBzZW5kaW5nIHRyYW5zYWN0aW9ucywgYW5kIHF1ZXJ5aW5nIHRoZSBzdGF0ZS5cbiAgLy9FdmVuIGlmIG5vIHVzZXIgYWNjb3VudHMgYXJlIGF2YWlsYWJsZSwgeW91ciBhcHBsaWNhdGlvbiBtaWdodCBzdGlsbCBuZWVkIHRvIGludGVyYWN0IHdpdGggdGhlIEV0aGVyZXVtIG5ldHdvcmsuIEEgSnNvblJwY1Byb3ZpZGVyIGFsbG93cyB5b3UgdG8gZG8gdGhpcyBieSBjb25uZWN0aW5nIHRvIGEgcmVtb3RlIEV0aGVyZXVtIG5vZGUuXG4gIC8vWW91IGNhbiBzdGlsbCByZWFkIGRhdGEgZnJvbSB0aGUgYmxvY2tjaGFpbiB3aXRob3V0IG5lZWRpbmcgYSB1c2VyIGFjY291bnQuIEZvciBleGFtcGxlLCB5b3UgbWlnaHQgd2FudCB0byBkaXNwbGF5IGluZm9ybWF0aW9uIGFib3V0IHRva2VucywgY29udHJhY3RzLCBvciByZWNlbnQgdHJhbnNhY3Rpb25zLlxuICAgIDogbmV3IGV0aGVycy5wcm92aWRlcnMuSnNvblJwY1Byb3ZpZGVyKHByb2Nlc3MuZW52Lk5FWFRfQVBQX1JQQ19VUkwpXG4gIC8vaWYgdGhlcmUgaXMgYW4gYWNjb3VudCBhdmFpbGFibGUgdGhlIHdhbGxldCBpcyBzZXQgdG8gbnVsbCBiZWNhdXNlIGRvbnQgbmVlZCB0byBjcmVhdGUgYSBuZXcgd2FsbGV0XG4gIGNvbnNvbGUubG9nKFwicHJvdmlkZXJcIiwgcHJvdmlkZXIpXG4gIGNvbnN0IHdhbGxldCA9IGFjY291bnRzPy5bMF0gPyBudWxsIDogZXRoZXJzLldhbGxldC5jcmVhdGVSYW5kb20oKVxuICBjb25zb2xlLmxvZyhcIndhbGxldFwiLCB3YWxsZXQpXG4gIGNvbnN0IHNpZ25lciA9IHByb3ZpZGVyLmdldFNpZ25lcihhY2NvdW50cz8uWzBdID8gdW5kZWZpbmVkIDogd2FsbGV0Py5hZGRyZXNzKVxuXG4gIGNvbnN0IGNvbnRyYWN0ID0gbmV3IGV0aGVycy5Db250cmFjdChDb250cmFjdEFkZHJlc3MsIENvbnRyYWN0QWJpLCBzaWduZXIpXG4gIHJldHVybiBjb250cmFjdFxufVxuXG5jb25zdCBjb25uZWN0V2FsbGV0ID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGlmICghZXRoZXJldW0pIHJldHVybiByZXBvcnRFcnJvcignUGxlYXNlIGluc3RhbGwgTWV0YW1hc2snKVxuICAgIC8vcmVxdWVzdCB1c2VyIGFjY291bnRzIGZyb20gbWV0YW1hc2suIGRhcHAgcmVxdWVzdCBhY2Nlc3MgdG8gdXNlcidzIGV0aGVyZXVtIGFjY291bnRzXG5cbiAgICBjb25zdCBhY2NvdW50cyA9IGF3YWl0IGV0aGVyZXVtLnJlcXVlc3Q/Lih7IG1ldGhvZDogJ2V0aF9yZXF1ZXN0QWNjb3VudHMnIH0pXG4gICAgc3RvcmUuZGlzcGF0Y2goc2V0V2FsbGV0KGFjY291bnRzPy5bMF0pKSAvLyB3YWxsZXQgYWRkcmVzcyBzdG9yZWQuIGFjY2VzcyBmaXJzdCBhY2NvdW50IGluIGFycmF5XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVwb3J0RXJyb3IoZXJyb3IpXG4gIH1cbn1cblxuY29uc3QgY2hlY2tXYWxsZXQgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKCFldGhlcmV1bSkgcmV0dXJuIHJlcG9ydEVycm9yKCdQbGVhc2UgaW5zdGFsbCBNZXRhbWFzaycpXG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBldGhlcmV1bS5yZXF1ZXN0Py4oeyBtZXRob2Q6ICdldGhfYWNjb3VudHMnIH0pXG5cbiAgICAvLyBtb25pdG9yIGNoYWluIGNoYW5nZVxuICAgIGV0aGVyZXVtLm9uKCdjaGFpbkNoYW5nZWQnLCAoKSA9PiB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICB9KVxuXG4gICAgZXRoZXJldW0ub24oJ2FjY291bnRzQ2hhbmdlZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNldFdhbGxldChhY2NvdW50cz8uWzBdKSlcbiAgICAgIGF3YWl0IGNoZWNrV2FsbGV0KClcbiAgICB9KVxuXG4gICAgaWYgKGFjY291bnRzPy5sZW5ndGgpIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNldFdhbGxldChhY2NvdW50c1swXSkpXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JlLmRpc3BhdGNoKHNldFdhbGxldCgnJykpXG4gICAgICByZXBvcnRFcnJvcignUGxlYXNlIGNvbm5lY3Qgd2FsbGV0LCBubyBhY2NvdW50cyBmb3VuZC4nKVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXBvcnRFcnJvcihlcnJvcilcbiAgfVxufVxuXG5jb25zdCBnZXRRdWVzdGlvbnMgPSBhc3luYyAoKTogUHJvbWlzZTxRdWVzdGlvblByb3BbXT4gPT4ge1xuICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldEV0aGVyZXVtQ29udHJhY3QoKVxuICBjb25zdCBxdWVzdGlvbnMgPSBhd2FpdCBjb250cmFjdC5nZXRRdWVzdGlvbnMoKVxuICByZXR1cm4gc3RydWN0dXJlUXVlc3Rpb25zKHF1ZXN0aW9ucylcbn1cblxuY29uc3QgZ2V0UXVlc3Rpb24gPSBhc3luYyAoaWQ6IG51bWJlcik6IFByb21pc2U8UXVlc3Rpb25Qcm9wPiA9PiB7XG4gIGNvbnN0IGNvbnRyYWN0ID0gYXdhaXQgZ2V0RXRoZXJldW1Db250cmFjdCgpXG4gIGNvbnN0IHF1ZXN0aW9uID0gYXdhaXQgY29udHJhY3QuZ2V0UXVlc3Rpb24oaWQpXG4gIHJldHVybiBzdHJ1Y3R1cmVRdWVzdGlvbnMoW3F1ZXN0aW9uXSlbMF1cbn1cblxuY29uc3QgY3JlYXRlUXVlc3Rpb24gPSBhc3luYyAoZGF0YTogUXVlc3Rpb25QYXJhbXMpID0+IHtcbiAgaWYgKCFldGhlcmV1bSkge1xuICAgIHJlcG9ydEVycm9yKCdQbGVhc2UgaW5zdGFsbCBNZXRhbWFzaycpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTWV0YW1hc2sgbm90IGluc3RhbGxlZCcpKVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldEV0aGVyZXVtQ29udHJhY3QoKVxuICAgIGNvbnNvbGUubG9nKFwiVEhFIENPTlRSQUNUXCIsIGNvbnRyYWN0KVxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCB0YWdzLCBwcml6ZSB9ID0gZGF0YVxuICAgIGNvbnNvbGUubG9nKFwiVEhFIERBVEFcIiwgZGF0YSlcbiAgICB0eCA9IGF3YWl0IGNvbnRyYWN0LmNyZWF0ZVF1ZXN0aW9uKHRpdGxlLCBkZXNjcmlwdGlvbiwgdGFncywge1xuICAgICAgdmFsdWU6IHRvV2VpKE51bWJlcihwcml6ZSkpLFxuICAgIH0pXG4gICAgY29uc29sZS5sb2coXCJUcmFuc2FjdGlvbiBIYXNoOlwiLCB0eC5oYXNoKTtcbiAgICBjb25zb2xlLmxvZyhcInR4XCIsIHR4KVxuXG5cbiAgICBhd2FpdCB0eC53YWl0KClcbiAgICBjb25zb2xlLmxvZyhcInR4XCIsIHR4KVxuICAgIGNvbnN0IHF1ZXN0aW9ucyA9IGF3YWl0IGdldFF1ZXN0aW9ucygpXG4gICAgY29uc29sZS5sb2coXCJRVUVTVElPTlNcIiwgcXVlc3Rpb25zKVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goc2V0UXVlc3Rpb25zKHF1ZXN0aW9ucykpXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0eClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXBvcnRFcnJvcihlcnJvcilcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpXG4gIH1cbn1cblxuY29uc3QgdXBkYXRlUXVlc3Rpb24gPSBhc3luYyAoaWQ6IG51bWJlciwgZGF0YTogUXVlc3Rpb25QYXJhbXMpID0+IHtcbiAgaWYgKCFldGhlcmV1bSkge1xuICAgIHJlcG9ydEVycm9yKCdQbGVhc2UgaW5zdGFsbCBNZXRhbWFzaycpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTWV0YW1hc2sgbm90IGluc3RhbGxlZCcpKVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldEV0aGVyZXVtQ29udHJhY3QoKVxuICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uLCB0YWdzIH0gPSBkYXRhXG4gICAgdHggPSBhd2FpdCBjb250cmFjdC51cGRhdGVRdWVzdGlvbihpZCwgdGl0bGUsIGRlc2NyaXB0aW9uLCB0YWdzKVxuXG4gICAgYXdhaXQgdHgud2FpdCgpXG4gICAgY29uc3QgcXVlc3Rpb24gPSBhd2FpdCBnZXRRdWVzdGlvbihpZClcblxuICAgIHN0b3JlLmRpc3BhdGNoKHNldFF1ZXN0aW9uKHF1ZXN0aW9uKSlcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR4KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcG9ydEVycm9yKGVycm9yKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgfVxufVxuXG5jb25zdCBkZWxldGVRdWVzdGlvbiA9IGFzeW5jIChpZDogbnVtYmVyKSA9PiB7XG4gIGlmICghZXRoZXJldW0pIHtcbiAgICByZXBvcnRFcnJvcignUGxlYXNlIGluc3RhbGwgTWV0YW1hc2snKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ01ldGFtYXNrIG5vdCBpbnN0YWxsZWQnKSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgY29udHJhY3QgPSBhd2FpdCBnZXRFdGhlcmV1bUNvbnRyYWN0KClcbiAgICB0eCA9IGF3YWl0IGNvbnRyYWN0LmRlbGV0ZVF1ZXN0aW9uKGlkKVxuXG4gICAgYXdhaXQgdHgud2FpdCgpXG4gICAgY29uc3QgcXVlc3Rpb24gPSBhd2FpdCBnZXRRdWVzdGlvbihpZClcblxuICAgIHN0b3JlLmRpc3BhdGNoKHNldFF1ZXN0aW9uKHF1ZXN0aW9uKSlcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR4KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcG9ydEVycm9yKGVycm9yKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgfVxufVxuXG5jb25zdCBjcmVhdGVBbnN3ZXIgPSBhc3luYyAoaWQ6IG51bWJlciwgYW5zd2VyOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFldGhlcmV1bSkge1xuICAgIHJlcG9ydEVycm9yKCdQbGVhc2UgaW5zdGFsbCBNZXRhbWFzaycpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTWV0YW1hc2sgbm90IGluc3RhbGxlZCcpKVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldEV0aGVyZXVtQ29udHJhY3QoKVxuICAgIHR4ID0gYXdhaXQgY29udHJhY3QuYWRkQW5zd2VyKGlkLCBhbnN3ZXIpXG5cbiAgICBhd2FpdCB0eC53YWl0KClcbiAgICBjb25zdCBxdWVzdGlvbiA9IGF3YWl0IGdldFF1ZXN0aW9uKGlkKVxuICAgIGNvbnN0IGFuc3dlcnMgPSBhd2FpdCBnZXRBbnN3ZXJzKGlkKVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goc2V0UXVlc3Rpb24ocXVlc3Rpb24pKVxuICAgIHN0b3JlLmRpc3BhdGNoKHNldEFuc3dlcnMoYW5zd2VycykpXG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR4KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcG9ydEVycm9yKGVycm9yKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgfVxufVxuXG5jb25zdCBwYXlXaW5uZXIgPSBhc3luYyAocWlkOiBudW1iZXIsIGlkOiBudW1iZXIpID0+IHtcbiAgaWYgKCFldGhlcmV1bSkge1xuICAgIHJlcG9ydEVycm9yKCdQbGVhc2UgaW5zdGFsbCBNZXRhbWFzaycpXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTWV0YW1hc2sgbm90IGluc3RhbGxlZCcpKVxuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldEV0aGVyZXVtQ29udHJhY3QoKVxuICAgIHR4ID0gYXdhaXQgY29udHJhY3QucGF5V2lubmVyKHFpZCwgaWQpXG5cbiAgICBhd2FpdCB0eC53YWl0KClcbiAgICBjb25zdCBxdWVzdGlvbiA9IGF3YWl0IGdldFF1ZXN0aW9uKGlkKVxuICAgIGNvbnN0IGFuc3dlcnMgPSBhd2FpdCBnZXRBbnN3ZXJzKGlkKVxuXG4gICAgc3RvcmUuZGlzcGF0Y2goc2V0UXVlc3Rpb24ocXVlc3Rpb24pKVxuICAgIHN0b3JlLmRpc3BhdGNoKHNldEFuc3dlcnMoYW5zd2VycykpXG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHR4KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJlcG9ydEVycm9yKGVycm9yKVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcilcbiAgfVxufVxuXG5jb25zdCBnZXRBbnN3ZXJzID0gYXN5bmMgKGlkOiBudW1iZXIpOiBQcm9taXNlPEFuc3dlclByb3BbXT4gPT4ge1xuICBjb25zdCBjb250cmFjdCA9IGF3YWl0IGdldEV0aGVyZXVtQ29udHJhY3QoKVxuICBjb25zdCBhbnN3ZXJzID0gYXdhaXQgY29udHJhY3QuZ2V0QW5zd2VycyhpZClcbiAgcmV0dXJuIHN0cnVjdHVyZUFuc3dlcnMoYW5zd2VycykgfHwgW11cbn1cblxuY29uc3QgbG9hZERhdGEgPSBhc3luYyAoKSA9PiB7XG4gIGF3YWl0IGdldFF1ZXN0aW9ucygpXG59XG5cbmNvbnN0IHJlcG9ydEVycm9yID0gKGVycm9yOiBhbnkpID0+IHtcbiAgY29uc29sZS5sb2coZXJyb3IpXG59XG5cbmNvbnN0IHN0cnVjdHVyZVF1ZXN0aW9ucyA9IChxdWVzdGlvbnM6IGFueVtdKTogUXVlc3Rpb25Qcm9wW10gPT5cbiAgcXVlc3Rpb25zXG4gICAgLm1hcCgocXVlc3Rpb24pID0+ICh7XG4gICAgICBpZDogTnVtYmVyKHF1ZXN0aW9uLmlkKSxcbiAgICAgIHRpdGxlOiBxdWVzdGlvbi50aXRsZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBxdWVzdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgIG93bmVyOiBxdWVzdGlvbi5vd25lci50b0xvd2VyQ2FzZSgpLFxuICAgICAgd2lubmVyOiBxdWVzdGlvbi53aW5uZXIudG9Mb3dlckNhc2UoKSxcbiAgICAgIHBhaWRvdXQ6IHF1ZXN0aW9uLnBhaWRvdXQsXG4gICAgICBkZWxldGVkOiBxdWVzdGlvbi5kZWxldGVkLFxuICAgICAgdXBkYXRlZDogTnVtYmVyKHF1ZXN0aW9uLnVwZGF0ZWQpLFxuICAgICAgY3JlYXRlZDogTnVtYmVyKHF1ZXN0aW9uLmNyZWF0ZWQpLFxuICAgICAgYW5zd2VyczogTnVtYmVyKHF1ZXN0aW9uLmFuc3dlcnMpLFxuICAgICAgdGFnczogcXVlc3Rpb24udGFncy5zcGxpdCgnLCcpLm1hcCgodGFnOiBzdHJpbmcpID0+IHRhZy50cmltKCkpLFxuICAgICAgcHJpemU6IGZyb21XZWkocXVlc3Rpb24ucHJpemUpLFxuICAgIH0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWQgLSBhLmNyZWF0ZWQpXG5cbmNvbnN0IHN0cnVjdHVyZUFuc3dlcnMgPSAoYW5zd2VyczogYW55W10pOiBBbnN3ZXJQcm9wW10gPT5cbiAgYW5zd2Vyc1xuICAgIC5tYXAoKGFuc3dlcikgPT4gKHtcbiAgICAgIGlkOiBOdW1iZXIoYW5zd2VyLmlkKSxcbiAgICAgIHFpZDogTnVtYmVyKGFuc3dlci5xaWQpLFxuICAgICAgY29tbWVudDogYW5zd2VyLmNvbW1lbnQsXG4gICAgICBvd25lcjogYW5zd2VyLm93bmVyLnRvTG93ZXJDYXNlKCksXG4gICAgICBkZWxldGVkOiBhbnN3ZXIuZGVsZXRlZCxcbiAgICAgIGNyZWF0ZWQ6IE51bWJlcihhbnN3ZXIuY3JlYXRlZCksXG4gICAgICB1cGRhdGVkOiBOdW1iZXIoYW5zd2VyLnVwZGF0ZWQpLFxuICAgIH0pKVxuICAgIC5zb3J0KChhLCBiKSA9PiBiLnVwZGF0ZWQgLSBhLnVwZGF0ZWQpXG5cbmV4cG9ydCB7XG4gIGNvbm5lY3RXYWxsZXQsXG4gIGNoZWNrV2FsbGV0LFxuICBsb2FkRGF0YSxcbiAgZ2V0UXVlc3Rpb25zLFxuICBnZXRRdWVzdGlvbixcbiAgY3JlYXRlUXVlc3Rpb24sXG4gIHVwZGF0ZVF1ZXN0aW9uLFxuICBkZWxldGVRdWVzdGlvbixcbiAgY3JlYXRlQW5zd2VyLFxuICBnZXRBbnN3ZXJzLFxuICBwYXlXaW5uZXIsXG59XG4iXSwibmFtZXMiOlsic3RvcmUiLCJldGhlcnMiLCJnbG9iYWxBY3Rpb25zIiwiYWRkcmVzcyIsImFiaSIsInNldFdhbGxldCIsInNldEFuc3dlcnMiLCJzZXRRdWVzdGlvbiIsInNldFF1ZXN0aW9ucyIsIkNvbnRyYWN0QWRkcmVzcyIsIkNvbnRyYWN0QWJpIiwiZXRoZXJldW0iLCJ0eCIsIndpbmRvdyIsInRvV2VpIiwibnVtIiwidXRpbHMiLCJwYXJzZUV0aGVyIiwidG9TdHJpbmciLCJmcm9tV2VpIiwiZm9ybWF0RXRoZXIiLCJnZXRFdGhlcmV1bUNvbnRyYWN0IiwiYWNjb3VudHMiLCJyZXF1ZXN0IiwibWV0aG9kIiwicHJvdmlkZXIiLCJwcm92aWRlcnMiLCJXZWIzUHJvdmlkZXIiLCJKc29uUnBjUHJvdmlkZXIiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9BUFBfUlBDX1VSTCIsImNvbnNvbGUiLCJsb2ciLCJ3YWxsZXQiLCJXYWxsZXQiLCJjcmVhdGVSYW5kb20iLCJzaWduZXIiLCJnZXRTaWduZXIiLCJ1bmRlZmluZWQiLCJjb250cmFjdCIsIkNvbnRyYWN0IiwiY29ubmVjdFdhbGxldCIsInJlcG9ydEVycm9yIiwiZGlzcGF0Y2giLCJlcnJvciIsImNoZWNrV2FsbGV0Iiwib24iLCJsb2NhdGlvbiIsInJlbG9hZCIsImxlbmd0aCIsImdldFF1ZXN0aW9ucyIsInF1ZXN0aW9ucyIsInN0cnVjdHVyZVF1ZXN0aW9ucyIsImdldFF1ZXN0aW9uIiwiaWQiLCJxdWVzdGlvbiIsImNyZWF0ZVF1ZXN0aW9uIiwiZGF0YSIsIlByb21pc2UiLCJyZWplY3QiLCJFcnJvciIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ0YWdzIiwicHJpemUiLCJ2YWx1ZSIsIk51bWJlciIsImhhc2giLCJ3YWl0IiwicmVzb2x2ZSIsInVwZGF0ZVF1ZXN0aW9uIiwiZGVsZXRlUXVlc3Rpb24iLCJjcmVhdGVBbnN3ZXIiLCJhbnN3ZXIiLCJhZGRBbnN3ZXIiLCJhbnN3ZXJzIiwiZ2V0QW5zd2VycyIsInBheVdpbm5lciIsInFpZCIsInN0cnVjdHVyZUFuc3dlcnMiLCJsb2FkRGF0YSIsIm1hcCIsIm93bmVyIiwidG9Mb3dlckNhc2UiLCJ3aW5uZXIiLCJwYWlkb3V0IiwiZGVsZXRlZCIsInVwZGF0ZWQiLCJjcmVhdGVkIiwic3BsaXQiLCJ0YWciLCJ0cmltIiwic29ydCIsImEiLCJiIiwiY29tbWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./services/blockchain.ts\n"));

/***/ })

});